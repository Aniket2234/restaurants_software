## 1️⃣ DINE-IN SECTION
Purpose: For customers eating inside the restaurant.

### ✅ Required Features
- Select **Table Number** (e.g., Ground Floor, Table 4)
- Option to **assign waiter**
- Allow adding multiple KOTs for the same table (e.g., starters, then main course)
- Support **Split Bill**, **Hold**, and **Resume**
- Show order total and allow selecting payment mode (Cash, Card, Due, etc.)

### ⚙️ Button Logic
- **KOT** → Save order with status `sent_to_kitchen` (send only to kitchen, no print)
- **KOT & Print** → Same as above + print kitchen copy
- **Save** → Save order temporarily with status `saved` (not sent to kitchen yet)
- **Save & Print** → Save order + print **customer bill** and mark status `billed`
- **Checkout** → Marks order as `paid` and closes the table

---

## 2️⃣ DELIVERY SECTION
Purpose: For orders to be delivered to customer homes.

### ✅ Required Features
- Collect customer name, mobile number, full address
- Assign delivery person
- Update order status flow → `Preparing → Out for Delivery → Delivered`
- Optional: Auto-send confirmation WhatsApp/SMS to customer
- Generate digital invoice PDF for WhatsApp or email

### ⚙️ Button Logic
- **KOT** → Send to kitchen (`sent_to_kitchen`)
- **KOT & Print** → Send + print kitchen copy
- **Save** → Save order temporarily while customer confirms address
- **Save & Print** → Save + print **final bill** (for delivery bag)
- **Checkout** → Marks order as `delivered` and `paid`

---

## 3️⃣ PICKUP / TAKEAWAY SECTION
Purpose: For customers who will pick up their order.

### ✅ Required Features
- Customer name & phone number (optional)
- Expected pickup time
- Quick KOT for kitchen
- One-time billing & printing

### ⚙️ Button Logic
- **KOT** → Send order to kitchen
- **KOT & Print** → Send + print kitchen ticket
- **Save** → Temporarily save order
- **Save & Print** → Save + print final customer bill
- **Checkout** → Auto mark order as `ready_for_pickup` and `paid`

---

## 4️⃣ DATABASE STATUS FLOW
Add or ensure these order status values are supported:
- `saved` → Order created but not yet sent to kitchen
- `sent_to_kitchen` → KOT generated, food preparation started
- `ready_to_bill` → Awaiting billing
- `billed` → Bill printed
- `paid` → Payment received
- `delivered` → (For delivery only)
- `ready_for_pickup` → (For pickup only)

---

## 5️⃣ UI LOGIC SUMMARY (Dynamic Behavior)
| Action | Dine-In | Delivery | Pickup |
|---------|----------|-----------|----------|
| Requires Table Number | ✅ | ❌ | ❌ |
| Requires Address | ❌ | ✅ | ❌ |
| Requires Delivery Person | ❌ | ✅ | ❌ |
| Allows Multiple KOTs | ✅ | ❌ | ❌ |
| Allows Split Bill | ✅ | ❌ | ❌ |
| Auto WhatsApp Bill | Optional | ✅ | ✅ |
| Print Final Bill | ✅ | Optional | ✅ |

---

## 6️⃣ EXPECTED OUTPUT
- Update frontend buttons (`Save`, `Save & Print`, `KOT`, `KOT & Print`) according to above logic.
- Update backend routes and database fields for the new statuses.
- Ensure all order types (Dine-In, Delivery, Pickup) behave dynamically as described.
- Maintain existing design and database structure — only modify logic and state handling.

---

Make the code changes accordingly and test each order type to ensure the flow works perfectly with these defined actions.